<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Evergreen: Summer of the Seventh Sunderance</title>
        <link data-trunk rel="rust" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&display=swap"
            rel="stylesheet"
        />
        <style>
            *,
            *::before,
            *::after {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            html,
            body {
                width: 100%;
                height: 100%;
                overflow: hidden;
            }

            body {
                background: radial-gradient(
                    ellipse at 50% 0%,
                    #1e3a2b 0%,
                    #0f1f15 60%,
                    #080e0a 100%
                );
                display: flex;
                flex-direction: column;
                align-items: center;
                font-family: sans-serif;
                color: #c5d8c5;
            }

            /* ── header ── */
            .header {
                width: 100%;
                text-align: center;
                padding: 14px 0 10px;
                background: linear-gradient(
                    180deg,
                    #14301f 0%,
                    #1a472a 40%,
                    transparent 100%
                );
                position: relative;
                z-index: 10;
            }

            .header h1 {
                font-family: "Cinzel Decorative", serif;
                font-size: clamp(1.6rem, 3.5vw, 2.8rem);
                letter-spacing: 0.12em;
                color: #a8d5a2;
                text-shadow:
                    0 0 20px rgba(100, 200, 100, 0.35),
                    0 2px 4px rgba(0, 0, 0, 0.6);
            }

            .header .subtitle {
                font-size: 0.75rem;
                letter-spacing: 0.3em;
                text-transform: uppercase;
                color: #6b9b6b;
                margin-top: 2px;
            }

            /* ── decorative vine divider ── */
            .vine-divider {
                width: min(720px, 85%);
                height: 12px;
                margin: 0 auto;
                position: relative;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .vine-divider::before {
                content: "";
                flex: 1;
                height: 1px;
                background: linear-gradient(
                    90deg,
                    transparent,
                    #3d7a4a 30%,
                    #3d7a4a 70%,
                    transparent
                );
            }

            .vine-divider .leaf {
                display: inline-block;
                margin: 0 6px;
                color: #3d7a4a;
                font-size: 12px;
            }

            .vine-divider::after {
                content: "";
                flex: 1;
                height: 1px;
                background: linear-gradient(
                    90deg,
                    transparent,
                    #3d7a4a 30%,
                    #3d7a4a 70%,
                    transparent
                );
            }

            /* ── game area ── */
            .game-area {
                flex: 1;
                width: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 10px 20px;
                position: relative;
                min-height: 0;
            }

            .game-frame {
                position: relative;
                width: min(960px, 90vw);
                aspect-ratio: 16 / 9;
                max-height: calc(100vh - 130px);
                border-radius: 8px;
                overflow: hidden;
                box-shadow:
                    0 0 0 3px #2a5e3a,
                    0 0 0 6px #1a3d25,
                    0 0 40px rgba(40, 120, 60, 0.25),
                    inset 0 0 30px rgba(0, 0, 0, 0.3);
                background: #000;
            }

            /* bush decorations on left and right of frame */
            .game-frame::before,
            .game-frame::after {
                content: "";
                position: absolute;
                bottom: -6px;
                width: 80px;
                height: 45px;
                border-radius: 50% 50% 0 0;
                z-index: 5;
                pointer-events: none;
            }

            .game-frame::before {
                left: -20px;
                background: radial-gradient(
                    ellipse at 60% 80%,
                    #2d6b3f,
                    #1a472a 60%,
                    transparent 100%
                );
            }

            .game-frame::after {
                right: -20px;
                background: radial-gradient(
                    ellipse at 40% 80%,
                    #2d6b3f,
                    #1a472a 60%,
                    transparent 100%
                );
            }

            /* ── canvas (injected by Bevy/Trunk) ── */
            canvas {
                display: block;
                width: 100% !important;
                height: 100% !important;
                border-radius: 8px;
            }

            /* ── corner foliage accents ── */
            .bush {
                position: absolute;
                pointer-events: none;
                z-index: 2;
            }

            .bush-bl {
                bottom: 0;
                left: 0;
                width: clamp(80px, 12vw, 160px);
                height: clamp(50px, 8vw, 100px);
                background: radial-gradient(
                    ellipse at 20% 100%,
                    #1d5a30 0%,
                    #15412380 50%,
                    transparent 75%
                );
                border-radius: 0 80% 0 0;
            }

            .bush-br {
                bottom: 0;
                right: 0;
                width: clamp(80px, 12vw, 160px);
                height: clamp(50px, 8vw, 100px);
                background: radial-gradient(
                    ellipse at 80% 100%,
                    #1d5a30 0%,
                    #15412380 50%,
                    transparent 75%
                );
                border-radius: 80% 0 0 0;
            }

            .bush-tl {
                top: 70px;
                left: 0;
                width: clamp(40px, 6vw, 80px);
                height: clamp(60px, 10vw, 120px);
                background: radial-gradient(
                    ellipse at 0% 30%,
                    #1a4f2c 0%,
                    #12361e80 50%,
                    transparent 75%
                );
                border-radius: 0 60% 60% 0;
            }

            .bush-tr {
                top: 70px;
                right: 0;
                width: clamp(40px, 6vw, 80px);
                height: clamp(60px, 10vw, 120px);
                background: radial-gradient(
                    ellipse at 100% 30%,
                    #1a4f2c 0%,
                    #12361e80 50%,
                    transparent 75%
                );
                border-radius: 60% 0 0 60%;
            }

            /* ── footer ── */
            .footer {
                width: 100%;
                text-align: center;
                padding: 6px 0;
                font-size: 0.65rem;
                letter-spacing: 0.15em;
                color: #3d5e3d;
                position: relative;
                z-index: 10;
            }
        </style>
    </head>
    <body>
        <!-- corner foliage -->
        <div class="bush bush-bl"></div>
        <div class="bush bush-br"></div>
        <div class="bush bush-tl"></div>
        <div class="bush bush-tr"></div>

        <header class="header">
            <h1>Evergreen</h1>
            <div class="subtitle">Summer of the Seventh Sunderance</div>
            <div class="vine-divider">
                <span class="leaf">&#x2766;</span>
            </div>
        </header>

        <main class="game-area">
            <div class="game-frame" id="game"></div>
        </main>

        <footer class="footer">
            built with bevy &middot; rust &middot; wasm
        </footer>

        <script>
            // Move the Bevy canvas into the game frame once it appears
            const observer = new MutationObserver(() => {
                const canvas = document.querySelector("body > canvas");
                const frame = document.getElementById("game");
                if (canvas && frame) {
                    frame.appendChild(canvas);
                    observer.disconnect();
                }
            });
            observer.observe(document.body, { childList: true });
        </script>
    </body>
</html>
